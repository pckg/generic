<script>
    var Pckg = Pckg || {};
    Pckg.data = {{ (data ? data : {}) | json_encode(JSON_NUMERIC_CHECK) | raw }};
    Pckg.config = {};
    Pckg.config.locale = {
        current: '{{ _localeManager.getCurrent() }}',
        decimals: {{ config('pckg.locale.decimals', 2) }},
        format: {
            dateMoment: 'll',
            timeMoment: 'LT'
        },
        currency: '{{ config('pckg.payment.currency', 'EUR') }}',
        currencySign: '{{ config('pckg.payment.currencySign', 'â‚¬') }}'
    };
    Pckg.config.editor = {};
    Pckg.config.editor.variables = {{ config('pckg.dynamic.editor.variables') | json_encode | raw }};

    Pckg.config.cdn = {{ config('storage.cdn') | json_encode | raw }};

    Pckg.config.apis = {};
    Pckg.config.apis.googleConsole = {{ config('external.googleMaps.apiKey', '') | json_encode | raw }};

    Pckg.router = {};
    Pckg.router.urls = {{ _router.getPublicRoutes() | json_encode | raw }};

    Pckg.translations = {{ _translator.getPublicTranslations() | json_encode | raw }};

    Pckg.vue = {};
    Pckg.vue.stores = {};
    Pckg.vue.templates = {};

    Pckg.auth = {};
    Pckg.auth.user = {{ _auth.getUser() | json_encode | raw }};

    {% if _env.isDev() %}
    Vue.config.debug = true;
    Vue.config.silent = false;
    Vue.config.devtools = true;
    Vue.config.performance = true;
    {% endif %}

    moment.locale(Pckg.config.locale.current);

</script>

<!-- vue components -->
<!--  vue css, less and js -->

{{ _assetManager.getMeta(['css', 'less', 'js'], ['footerFirst', 'vue']) | raw }}
{{ _vueManager.getComponents() | raw }}

<!-- vue filters -->
{{ _vueManager.getFilters() | raw }}

<!-- vue live components -->
{{ _vueManager.getViews() | raw }}

{{ _assetManager.getMeta(['css', 'less', 'js'], ['footer']) | raw }}

<!-- external assets-->
{{ _assetManager.getExternals() | raw }}

{{ _metaManager.getMeta('footer') | raw }}

<!-- google fonts -->
{{ _assetManager.getGoogleFonts() | raw }}

{% if _env.isDev() and _debugBar %}
    {% set renderer = _debugBar.getJavascriptRenderer() %}
    {% do renderer.setOpenHandlerUrl('/open.php') %}
    {% do _debugBar.sendDataInHeaders(true) %}
    {{ renderer.renderHead() | raw }}
    {{ renderer.render() | raw }}
{% endif %}